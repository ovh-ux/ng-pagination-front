/*! ovh-angular-pagination-front - 6.0.0 - 2017-09-27 */
angular.module("ovh-angular-pagination-front",["ui.bootstrap"]),angular.module("ovh-angular-pagination-front").directive("paginationFront",["$q",function(a){"use strict";return{restrict:"A",templateUrl:"ovh-angular-pagination-front.html",replace:!1,transclude:!0,scope:{items:"=",fakeCurrentPage:"=?currentPage",numPages:"=?nbPages",itemsPerPage:"=?",refresh:"=?",paginatedItems:"=",pagePlaceholder:"@",itemPerPagePlaceholder:"@",onPageChange:"&",transformItem:"&?",onTransformItemGetPromise:"&",onTransformItemDone:"&",onTransformItemNotify:"&",goToPage:"@",saveName:"@?"},link:function(b){var c="string"==typeof b.saveName&&b.saveName.length?"pagination_front_items_per_page_"+b.saveName:"pagination_front_items_per_page";b.fakeCurrentPage?(b.currentPage=b.fakeCurrentPage,b.$watch("fakeCurrentPage",function(a){a&&a<=b.numPages&&(b.currentPage=a)})):b.currentPage=1,localStorage&&localStorage.getItem(c)?b.itemsPerPage=parseInt(localStorage.getItem(c),10)||10:b.itemsPerPage||(b.itemsPerPage=10),b.maxSize=5;var d=function(c){var d={},e=a.all(c.map(function(c){return a.when(b.transformItem({item:c})).then(function(a){return b.onTransformItemNotify({item:a}),a})["catch"](function(){return d})})).then(function(a){var c=a.filter(function(a){return a!==d});return b.onTransformItemDone({items:c}),c});return b.onTransformItemGetPromise({promise:e}),e},e=function(){if(b.arrayItems){b.paginatedItems=[];var a=(b.currentPage-1)*b.itemsPerPage,c=b.itemsPerPage*b.currentPage,e=[];c>b.totalItems&&(c=b.totalItems),a<0&&(a=0);for(var f=a;f<c;f++)e.push(angular.copy(b.arrayItems[f]));b.transformItem?d(e).then(function(a){b.paginatedItems=a}):b.paginatedItems=e,b.onPageChange({items:b.paginatedItems})}},f=function(a){return!isNaN(a)&&parseInt(Number(a),10)===a&&!isNaN(parseInt(a,10))};b.$watch("items",function(a){void 0!==a&&(angular.isObject(a)&&!angular.isArray(a)?b.arrayItems=_.toArray(b.items):b.arrayItems=b.items,b.arrayItems=b.arrayItems||[],b.totalItems=b.arrayItems.length,e())},!0),b.$watch("currentPage",function(a){f(a)&&(e(),b.fakeCurrentPage=a)}),b.changePage=function(){parseInt(b.goPage,10)&&(b.goPage?b.goPage>b.numPages?b.currentPage=b.numPages:b.currentPage=b.goPage:b.currentPage=1)},b.changePageKeyPress=function(a){13===a.keyCode&&(b.goPage=null)},b.$watch("itemsPerPage",function(a){void 0!==a&&(localStorage&&localStorage.setItem(c,a),e())}),b.$watch("refresh",function(){e()})}}}]),angular.module("ovh-angular-pagination-front").run(["$templateCache",function(a){"use strict";a.put("ovh-angular-pagination-front.html",'<div class=pagination-container><ul data-uib-pagination data-total-items=totalItems data-max-size=maxSize data-boundary-links=true data-rotate=false data-num-pages=numPages data-items-per-page=itemsPerPage data-ng-model=currentPage data-previous-text=&lsaquo; data-next-text=&rsaquo; data-first-text=&laquo; data-last-text=&raquo;></ul><div class="form-inline pull-right"><select class=form-control name=itemsPerPageSelect data-ng-show="goToPage !== \'false\'" data-ng-model=itemsPerPage data-ng-options="size for size in [5, 10, 20, 40, 80, 100]"><option value="" selected disabled data-ng-bind=itemPerPagePlaceholder selected></option></select><input class=form-control name=currentPageInput type=number min=1 placeholder={{pagePlaceholder}} data-ng-show="goToPage !== \'false\'" data-ng-model=goPage data-ng-model-options="{ debounce: {\'default\': 500} }" data-ng-change=changePage() data-ng-blur="goPage = null" data-ng-keypress=changePageKeyPress($event);></div></div>')}]);